超赞的问题！这类“交互小升级”（空格+拖拽平移、滚轮缩放、节点拖拽、防抖动等）最容易被忽略。**最佳做法是“渐进式提示 + 可随时召回的帮助”**，既不打扰老用户，也能让新用户秒懂。

下面给你一套**轻量且可直接落地**的通知方案 + 代码片段（中文文案已写好）：

---

## 我建议的 5 个告知入口（从强到弱）

1. **首次打开画布 → 顶层帮助浮层（可一键关闭，记忆状态）**

   - 内容：快捷键/操作小抄；`？`/`Esc` 关闭；下次不再自动弹。

2. **状态栏 15 秒“技巧提示”**（自动消失，可从设置关闭）

   - 文案：`空格+拖拽=平移 · 滚轮=缩放 · 双击文件夹=下钻 · ?=帮助`

3. **画布右下角“？按钮”**（随时点开帮助）
4. **命令面板两条命令**

   - `Blueprint: 打开帮助/快捷键`
   - `Blueprint: 开关提示（Show/Hide Hints）`

5. **更新后一次性“What's New”吐司**（仅版本升级时出现，带“查看改动”）

> 全部都可以通过设置项开/关，默认“首开提示 + 状态栏提示开启”。

---

## 文案（直接用）

- 顶层帮助浮层标题：**蓝图视图 · 快捷操作**
- 内容要点：

  - **平移**：按住空格 + 拖拽画布
  - **缩放**：鼠标滚轮
  - **移动节点**：直接拖拽节点
  - **下钻**：双击文件夹
  - **返回上层**：工具栏按钮 / 右键空白处菜单
  - **帮助**：按 `?` 或点击右下角 **?**

- 角落补充：**已优化防抖动**（坐标取整 + rAF 节流 + GPU 合成层）

---

## 代码落地（可直接复制）

### 1) Webview：帮助浮层 + “？”按钮（记忆是否已看过）

```js
// 文件名: media/workflow/graphView.js
// 作用：在画布里放一个“？按钮”和“帮助浮层”；? 键/点击按钮可开关；localStorage 记忆已读。
// ===== 在文件底部 IIFE 内，紧接现有代码加入： =====

const HELP_KEY = "blueprint_help_seen_v1";

function injectHelpUI() {
  // 容器
  const helpBtn = document.createElement("button");
  helpBtn.className = "help-fab";
  helpBtn.title = "快捷键与操作说明（按 ? 也可打开）";
  helpBtn.textContent = "?";
  document.body.appendChild(helpBtn);

  const overlay = document.createElement("div");
  overlay.className = "help-overlay";
  overlay.innerHTML = `
    <div class="help-card" role="dialog" aria-label="蓝图视图 · 快捷操作">
      <div class="help-title">蓝图视图 · 快捷操作</div>
      <ul class="help-list">
        <li><kbd>空格</kbd> + 拖拽：平移画布</li>
        <li>鼠标滚轮：缩放画布</li>
        <li>拖拽节点：移动节点位置</li>
        <li>双击文件夹：下钻到子目录</li>
        <li>返回上一层：工具栏按钮 / 右键空白处</li>
        <li><kbd>?</kbd>：打开/关闭本帮助</li>
      </ul>
      <div class="help-note">已优化防抖动：坐标取整 · rAF 节流 · GPU 合成层</div>
      <div class="help-actions">
        <label class="noagain"><input type="checkbox" id="noShowAgain"> 下次不再自动显示</label>
        <button id="helpClose" class="btn">我知道了</button>
      </div>
    </div>
  `;
  document.body.appendChild(overlay);

  const openOverlay = () => {
    overlay.classList.add("show");
  };
  const closeOverlay = () => {
    overlay.classList.remove("show");
    if (document.getElementById("noShowAgain")?.checked) {
      try {
        localStorage.setItem(HELP_KEY, "1");
      } catch {}
    }
  };

  helpBtn.addEventListener("click", openOverlay);
  overlay.addEventListener("click", (e) => {
    if (e.target === overlay) closeOverlay();
  });
  overlay.querySelector("#helpClose")?.addEventListener("click", closeOverlay);

  // ? 键快捷开关（不要影响输入框）
  window.addEventListener("keydown", (e) => {
    if (e.key === "?" || (e.shiftKey && e.key === "/")) {
      if (overlay.classList.contains("show")) closeOverlay();
      else openOverlay();
    } else if (e.key === "Escape" && overlay.classList.contains("show")) {
      closeOverlay();
    }
  });

  // 首次进入自动展示
  const seen = (() => {
    try {
      return localStorage.getItem(HELP_KEY) === "1";
    } catch {
      return false;
    }
  })();
  if (!seen) openOverlay();
}

// 在接收到 init-graph 后，调用一次（确保画布与按钮一起出现）
window.addEventListener("message", (e) => {
  const msg = e.data;
  if (msg?.type === "init-graph") {
    if (!document.querySelector(".help-fab")) injectHelpUI();
  }
});
```

```css
/* 文件名: media/workflow/index.css */
/* 作用：帮助浮层与 ? 悬浮按钮的样式，保持轻量且不影响性能 */

.help-fab {
  position: fixed;
  right: 16px;
  bottom: 16px;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  border: 1px solid #e5e7eb;
  background: #fff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  font-weight: 700;
  cursor: pointer;
  z-index: 50;
}
.help-fab:hover {
  background: #f8fafc;
}

.help-overlay {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.28);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.12s ease;
  z-index: 49;
}
.help-overlay.show {
  opacity: 1;
  pointer-events: auto;
}

.help-card {
  position: absolute;
  left: 50%;
  top: 12%;
  transform: translateX(-50%);
  width: min(560px, 92vw);
  background: #fff;
  border-radius: 14px;
  border: 1px solid #e5e7eb;
  box-shadow: 0 12px 36px rgba(0, 0, 0, 0.12);
  padding: 16px 18px;
}
.help-title {
  font-weight: 700;
  font-size: 16px;
  margin-bottom: 8px;
}
.help-list {
  margin: 8px 0 12px 18px;
  color: #374151;
}
.help-list li {
  margin: 6px 0;
}
.help-note {
  font-size: 12px;
  color: #6b7280;
  margin-top: 2px;
}
.help-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 12px;
}
.help-actions .btn {
  padding: 6px 12px;
  border-radius: 8px;
  border: 1px solid #d1d5db;
  background: #fff;
  cursor: pointer;
}
.noagain {
  font-size: 12px;
  color: #374151;
}
kbd {
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size: 12px;
  padding: 1px 4px;
  border: 1px solid #e5e7eb;
  border-radius: 4px;
  background: #f9fafb;
}
```

---

### 2) 扩展端：状态栏 15 秒技巧提示（可配置）

```ts
// 文件名: src/extension.ts
// 中文注释：打开蓝图时，状态栏显示一条可消失的“技巧提示”

import * as vscode from "vscode";

export function showBlueprintStatusHint(context: vscode.ExtensionContext) {
  const cfg = vscode.workspace.getConfiguration("workflowBlueprint");
  if (!cfg.get("showStatusBarHint", true)) return;

  const item = vscode.window.createStatusBarItem(
    vscode.StatusBarAlignment.Left,
    100
  );
  item.text = "$(graph) 空格+拖拽=平移 · 滚轮=缩放 · 双击文件夹=下钻 · ?=帮助";
  item.tooltip = "蓝图视图快捷操作";
  item.show();
  context.subscriptions.push(item);

  setTimeout(() => item.hide(), 15000); // 15 秒后自动隐藏
}
```

> 在你打开蓝图（创建 Webview 面板）时调用：`showBlueprintStatusHint(context);`

---

### 3) package.json：命令 & 配置项

```jsonc
// 文件名: package.json
{
  "contributes": {
    "commands": [
      {
        "command": "workflowBlueprint.openHelp",
        "title": "Blueprint: 打开帮助/快捷键"
      },
      {
        "command": "workflowBlueprint.toggleHints",
        "title": "Blueprint: 开关提示（Show/Hide Hints）"
      }
    ],
    "configuration": {
      "properties": {
        "workflowBlueprint.showStatusBarHint": {
          "type": "boolean",
          "default": true,
          "description": "打开蓝图时在状态栏显示 15 秒的技巧提示"
        },
        "workflowBlueprint.autoShowHelpFirstTime": {
          "type": "boolean",
          "default": true,
          "description": "首次进入蓝图自动显示帮助浮层"
        }
      }
    }
  }
}
```

```ts
// 文件名: src/extension.ts
// 注册命令：打开帮助/切换提示（在你的 activate 里加入）
context.subscriptions.push(
  vscode.commands.registerCommand("workflowBlueprint.openHelp", () => {
    // 将一条消息发给 Webview：打开帮助；这里伪代码，需要持有当前 panel
    currentBlueprintPanel?.webview.postMessage({ type: "open-help" });
  }),
  vscode.commands.registerCommand("workflowBlueprint.toggleHints", async () => {
    const cfg = vscode.workspace.getConfiguration("workflowBlueprint");
    const cur = cfg.get("showStatusBarHint", true);
    await cfg.update(
      "showStatusBarHint",
      !cur,
      vscode.ConfigurationTarget.Global
    );
    vscode.window.showInformationMessage(
      `状态栏提示已${!cur ? "开启" : "关闭"}`
    );
  })
);
```

Webview 里接收 `open-help`：

```js
// 文件名: media/workflow/graphView.js
window.addEventListener("message", (e) => {
  const msg = e.data;
  if (msg?.type === "open-help") {
    document.querySelector(".help-fab")?.click();
  }
});
```

---

### 4) 版本更新后的 “What’s New” 吐司（一次性）

```ts
// 文件名: src/extension.ts
// 中文注释：如果版本号变化，弹一次“更新说明”
function showWhatsNewOnUpdate(context: vscode.ExtensionContext) {
  const cur =
    vscode.extensions.getExtension("your.publisher.ai-explorer")?.packageJSON
      .version || "0.0.0";
  const key = "workflowBlueprint.lastVersion";
  const prev = context.globalState.get<string>(key);
  if (prev !== cur) {
    context.globalState.update(key, cur);
    vscode.window
      .showInformationMessage(
        `蓝图视图已更新：新增“防抖动优化 + 快捷操作帮助”。`,
        "查看改动"
      )
      .then((btn) => {
        if (btn === "查看改动") {
          // 打开 README 的变更段或内置说明
          vscode.commands.executeCommand(
            "markdown.showPreview",
            vscode.Uri.joinPath(context.extensionUri, "CHANGELOG.md")
          );
        }
      });
  }
}
```

在 `activate` 里调用：`showWhatsNewOnUpdate(context);`

---

## 写法风格小贴士（避免打扰）

- **默认只第一次弹大帮助**；以后靠状态栏小条/右下角“？”按钮。
- 所有提示都可通过设置关闭；企业环境默认更克制。
- 提示文案**短句+动作**，避免段落。**示例**：

  - `空格+拖拽=平移 · 滚轮=缩放 · 双击文件夹=下钻 · ?=帮助`
  - `已优化防抖动：坐标取整 · rAF 节流 · GPU 合成层`

---

如果你愿意，我可以把以上代码**直接对齐到你仓库的具体文件路径**（例如你的 `panel/BlueprintPanel.ts` 持有 panel 的方式、全局 `currentBlueprintPanel` 的管理等），保证“可复制就能跑”。此外还可以加一个**右键空白处 → 返回上一层**的小菜单，符合直觉。
