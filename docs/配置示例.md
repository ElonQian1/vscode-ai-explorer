# AI Explorer 配置示例

## 🎯 快速开始

### 方案 1：使用 OpenAI

```json
{
  "aiExplorer.openaiApiKey": "sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
  "aiExplorer.openaiBaseUrl": "https://api.openai.com/v1",
  "aiExplorer.model": "gpt-3.5-turbo",
  "aiExplorer.provider.primary": "openai",
  "aiExplorer.provider.fallback": "none"
}
```

### 方案 2：使用腾讯云混元（OpenAI 兼容接口）

```json
{
  "aiExplorer.hunyuanApiKey": "hunyuan-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
  "aiExplorer.hunyuanBaseUrl": "https://api.hunyuan.cloud.tencent.com/v1",
  "aiExplorer.hunyuanModel": "hunyuan-turbos-longtext",  // 长文本版，适合批量翻译
  "aiExplorer.provider.primary": "hunyuan",
  "aiExplorer.provider.fallback": "none"
}
```

**模型选择建议**：
- `hunyuan-turbos-longtext`：批量翻译推荐（更大上下文窗口）
- `hunyuan-turbo`：日常使用（性价比最佳）
- `hunyuan-lite`：快速测试（速度最快）

### 方案 3：OpenAI + 腾讯混元双重保障（推荐）

```json
{
  // OpenAI 作为主提供商
  "aiExplorer.openaiApiKey": "sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
  "aiExplorer.openaiBaseUrl": "https://api.openai.com/v1",
  "aiExplorer.model": "gpt-3.5-turbo",
  
  // 腾讯云混元作为备用提供商
  "aiExplorer.hunyuanApiKey": "hunyuan-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
  "aiExplorer.hunyuanBaseUrl": "https://api.hunyuan.cloud.tencent.com/v1",
  "aiExplorer.hunyuanModel": "hunyuan-turbos-longtext",  // 长文本版
  
  // 策略配置
  "aiExplorer.provider.primary": "openai",
  "aiExplorer.provider.fallback": "hunyuan"  // OpenAI 失败时自动切换到混元
}
```

## 🔧 完整配置选项

```json
{
  // ========== OpenAI 配置 ==========
  "aiExplorer.openaiApiKey": "",
  "aiExplorer.openaiBaseUrl": "https://api.openai.com/v1",
  "aiExplorer.model": "gpt-3.5-turbo",  // 或 gpt-4, gpt-4-turbo 等
  
  // ========== 腾讯云混元配置 ==========
  "aiExplorer.hunyuanApiKey": "",
  "aiExplorer.hunyuanBaseUrl": "https://api.hunyuan.cloud.tencent.com/v1",
  "aiExplorer.hunyuanModel": "hunyuan-turbos-longtext",  // 或 hunyuan-turbo, hunyuan-lite, hunyuan-pro
  
  // ========== 提供商策略 ==========
  "aiExplorer.provider.primary": "openai",      // 主提供商: openai | hunyuan
  "aiExplorer.provider.fallback": "hunyuan",    // 备用提供商: none | openai | hunyuan
  
  // ========== 功能开关 ==========
  "aiExplorer.enableDictionary": true,          // 启用内置词典
  "aiExplorer.enableLearning": true             // 启用学习型词典
}
```

## 💡 使用建议

### 1. 开发测试环境

使用腾讯云混元（成本低）：
```json
{
  "aiExplorer.provider.primary": "hunyuan",
  "aiExplorer.hunyuanModel": "hunyuan-lite"  // 速度优先
}
```

### 2. 批量翻译任务

使用长文本版本（更大上下文）：
```json
{
  "aiExplorer.provider.primary": "hunyuan",
  "aiExplorer.hunyuanModel": "hunyuan-turbos-longtext"  // 一次处理更多文件
}
```

### 3. 生产环境

使用 OpenAI + 混元双保险：
```json
{
  "aiExplorer.provider.primary": "openai",
  "aiExplorer.provider.fallback": "hunyuan",
  "aiExplorer.hunyuanModel": "hunyuan-turbos-longtext"
}
```

### 4. 国内网络环境

优先使用腾讯云混元（国内访问速度快）：
```json
{
  "aiExplorer.provider.primary": "hunyuan",
  "aiExplorer.hunyuanModel": "hunyuan-turbos-longtext"  // 长文本版
}
```

## 🔍 验证配置

配置完成后，可通过以下方式验证：

1. **命令面板验证**：
   - 按 `Ctrl+Shift+P`
   - 输入 `AI Explorer: 服务状态检查`
   - 查看 AI 提供商状态

2. **实际翻译测试**：
   - 右键点击任意文件夹
   - 选择 `AI Explorer: 服务状态检查`
   - 查看输出中的 AI 状态信息

3. **查看日志**：
   - 打开输出面板：`Ctrl+Shift+U`
   - 选择 `AI Explorer` 频道
   - 查找配置相关日志

## 📚 相关文档

- [腾讯云混元配置指南](./腾讯混元配置指南.md)
- [API Key 管理](./api%20key%20.md)
- [翻译失败诊断指南](./翻译失败诊断指南.md)

## ⚠️ 常见错误

### 错误 1：API Key 格式错误

```
❌ 错误：提供商 hunyuan 不可用: Invalid API key format
```

**解决方案**：
- OpenAI: 以 `sk-` 开头
- 腾讯混元: 以 `hunyuan-` 开头（从控制台获取，非 SecretId/SecretKey）

### 错误 2：baseURL 配置错误

```
❌ 错误：提供商 hunyuan 请求失败: connect ETIMEDOUT
```

**解决方案**：
- 确认使用官方 OpenAI 兼容接口地址：`https://api.hunyuan.cloud.tencent.com/v1`
- 不要使用传统的腾讯云 API 地址

### 错误 3：模型名称不正确

```
❌ 错误：model_not_found: The model 'hunyuan-xxx' does not exist
```

**解决方案**：
- 查看腾讯云控制台确认可用模型
- 常用模型：`hunyuan-turbo`, `hunyuan-lite`, `hunyuan-pro`
