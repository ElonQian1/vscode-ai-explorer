# 🎯 右键功能使用指南

## ✅ 已实现的右键功能

我已经为您的AI Explorer添加了完整的右键菜单功能！现在您可以享受以下便捷操作：

### 📋 右键菜单选项

#### 1. **翻译所选节点** 📝
- **显示条件**: 对所有文件和文件夹
- **功能**: 为选中的项目生成中文别名
- **快捷方式**: 右键 → "翻译所选节点"

#### 2. **用别名重命名文件** ✏️
- **显示条件**: 仅对已有别名的文件/文件夹显示
- **功能**: 将真实文件名改为中文别名
- **安全提示**: 会弹出确认对话框防止误操作
- **位置**: 内联按钮（节点右侧）

#### 3. **复制别名** 📋
- **显示条件**: 仅对已有别名的文件/文件夹显示  
- **功能**: 将中文别名复制到剪贴板
- **快捷方式**: 右键 → "复制别名"

#### 4. **清除节点缓存** 🗑️
- **显示条件**: 对所有项目显示
- **功能**: 清除选中项目的翻译缓存，下次会重新翻译
- **位置**: 右键菜单底部（清理组）

### 🎨 视觉效果

#### 智能图标显示
- 📁 **文件夹**: folder 图标
- 📄 **文件**: 根据扩展名显示对应图标

#### 上下文感知菜单
- **无别名的项目**: 只显示"翻译"和"清除缓存"
- **有别名的项目**: 显示所有选项，包括内联的"重命名"按钮

### 🚀 使用方法

#### 基础翻译流程
1. 右键选择文件/文件夹
2. 点击 "翻译所选节点"
3. 等待AI生成中文别名
4. 别名会显示在树视图中

#### 高级操作
```
右键有别名的项目 → 看到完整菜单:
├── 📝 翻译所选节点
├── ✏️ 用别名重命名文件 (内联按钮)
├── 📋 复制别名  
└── 🗑️ 清除节点缓存
```

### ⚡ 快捷操作

#### 内联按钮
对于已有别名的项目，您会在节点右侧看到内联的重命名按钮，无需右键即可快速操作。

#### 批量操作
- 在视图标题栏使用 "翻译整个工作区" 进行批量翻译
- 使用 "切换别名显示" 在中文和原文件名之间切换

### 🛡️ 安全特性

#### 重命名保护
- 重命名前会显示确认对话框
- 自动清理文件名中的非法字符
- 限制文件名长度防止系统问题

#### 错误处理
- 操作失败时显示友好的错误信息
- 详细的日志记录便于调试

### 🔧 技术细节

#### contextValue 映射
- `file`: 无别名的文件
- `fileHasAlias`: 有别名的文件  
- `folder`: 无别名的文件夹
- `folderHasAlias`: 有别名的文件夹

#### 菜单分组
- `navigation@10`: 主要操作（翻译）
- `inline@10`: 内联操作（重命名）
- `navigation@20`: 辅助操作（复制）
- `z_cleanup@99`: 清理操作（清除缓存）

## 🎉 现在就试试吧！

1. 重启您的扩展开发主机 (F5)
2. 在AI Explorer中右键任意文件
3. 体验全新的右键菜单功能！

有了这些功能，您的AI Explorer现在更加强大和便捷了！