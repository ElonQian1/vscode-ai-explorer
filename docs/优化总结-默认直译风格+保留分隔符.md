# âœ… ä¼˜åŒ–æ€»ç»“ï¼šé»˜è®¤ç›´è¯‘é£æ ¼ + ä¿ç•™åˆ†éš”ç¬¦

## ğŸ“‹ æ–‡æ¡£è¦æ±‚

æ ¹æ® `docs/åˆ†éš”ç¬¦ç¿»è¯‘é—®é¢˜.md`ï¼Œéœ€è¦å®ç°ï¼š

1. **ä¿ç•™åŸå§‹åˆ†éš”ç¬¦**ï¼ˆ`-` `_` `.` é©¼å³°ï¼‰
2. **ä¸è‡ªåŠ¨æ·»åŠ ä¸­æ–‡åç¼€**ï¼ˆå¦‚ `.js` ä¸è¦å˜æˆ"æ¨¡å—"ï¼‰
3. **é»˜è®¤ä½¿ç”¨ç›´è¯‘é£æ ¼**ï¼ˆä¸æ˜¯è‡ªç„¶é£æ ¼ï¼‰
4. **æ–°å¢é…ç½®é¡¹** `keepOriginalDelimiters`

---

## âœ¨ æ”¹è¿›å†…å®¹

### 1. **ä¿®æ”¹é»˜è®¤é…ç½®**ï¼ˆ`package.json`ï¼‰

#### ä¿®æ”¹å‰ï¼š
```json
{
  "aiExplorer.alias.style": {
    "default": "natural"  // âŒ è‡ªç„¶é£æ ¼
  },
  "aiExplorer.alias.appendExtSuffix": {
    "default": true  // âŒ æ·»åŠ ä¸­æ–‡åç¼€
  }
}
```

#### ä¿®æ”¹åï¼š
```json
{
  "aiExplorer.alias.style": {
    "default": "literal",  // âœ… ç›´è¯‘é£æ ¼ï¼ˆé»˜è®¤ï¼‰
    "description": "... literal=ç›´è¯‘ï¼ˆé€è¯ç¿»è¯‘ã€ä¿æŒåŸé¡ºåºã€ä¿ç•™åˆ†éš”ç¬¦ï¼‰"
  },
  "aiExplorer.alias.keepOriginalDelimiters": {
    "type": "boolean",
    "default": true,  // ğŸ†• æ–°å¢é…ç½®é¡¹
    "description": "ç›´è¯‘æ¨¡å¼ä¸‹æ˜¯å¦ä¿ç•™åŸå§‹åˆ†éš”ç¬¦ï¼ˆ- _ . é©¼å³°ç­‰ï¼‰"
  },
  "aiExplorer.alias.appendExtSuffix": {
    "default": false,  // âœ… ä¿ç•™åŸæ‰©å±•åï¼ˆé»˜è®¤ï¼‰
    "description": "... é»˜è®¤ falseï¼Œä¿ç•™åŸæ‰©å±•å"
  }
}
```

### 2. **å¢å¼ºç›´è¯‘æ„å»ºå™¨**ï¼ˆ`LiteralAliasBuilderV2.ts`ï¼‰

#### æ–°å¢åŠŸèƒ½ï¼š
- âœ… è¯»å– `keepOriginalDelimiters` é…ç½®
- âœ… è¯»å– `appendExtSuffix` é…ç½®
- âœ… è¯»å– `literalJoiner` é…ç½®

#### ä»£ç é€»è¾‘ï¼š
```typescript
// è¯»å–é…ç½®
const config = vscode.workspace.getConfiguration('aiExplorer');
const keepOriginalDelimiters = config.get<boolean>('alias.keepOriginalDelimiters', true);
const appendExtSuffix = config.get<boolean>('alias.appendExtSuffix', false);
const literalJoiner = config.get<string>('alias.literalJoiner', '_');

let finalDelims = mappedDelims;
let finalExt = ext;

// 1. åˆ†éš”ç¬¦å¤„ç†
if (!keepOriginalDelimiters) {
    // ä¸ä¿ç•™åŸå§‹åˆ†éš”ç¬¦ï¼Œç»Ÿä¸€ä½¿ç”¨ literalJoiner
    finalDelims = mapped.map(() => literalJoiner);
}

// 2. æ‰©å±•åå¤„ç†
if (appendExtSuffix) {
    // æ·»åŠ ä¸­æ–‡åç¼€ï¼ˆè„šæœ¬ã€æ¨¡å—ã€ç»„ä»¶ç­‰ï¼‰
    const extSuffix = this.getExtensionSuffix(ext);
    if (extSuffix) {
        mapped[mapped.length - 1] += extSuffix;
        finalExt = '';  // ä¸ä¿ç•™åŸæ‰©å±•å
    }
} else {
    // ä¿ç•™åŸæ‰©å±•å
    finalExt = ext;
}

// 3. é‡å»ºåˆ«å
const alias = rebuildWithDelimiters(mapped, finalDelims, finalExt, true);
```

#### æ–°å¢æ–¹æ³•ï¼š
```typescript
/**
 * æ ¹æ®æ‰©å±•åè·å–ä¸­æ–‡åç¼€
 */
private getExtensionSuffix(ext: string): string {
    const suffixMap: Record<string, string> = {
        'js': 'è„šæœ¬',
        'ts': 'æ¨¡å—',
        'tsx': 'ç»„ä»¶',
        'css': 'æ ·å¼',
        'json': 'é…ç½®',
        'md': 'æ–‡æ¡£',
        // ... æ›´å¤šæ˜ å°„
    };
    return suffixMap[ext.toLowerCase()] || '';
}
```

---

## ğŸ¯ é¢„æœŸæ•ˆæœ

### ç¤ºä¾‹1ï¼šé»˜è®¤é…ç½®ï¼ˆç›´è¯‘ + ä¿ç•™åˆ†éš”ç¬¦ + ä¿ç•™æ‰©å±•åï¼‰
```
è¾“å…¥: clean-xml-files.js
é…ç½®:
  - style: "literal"
  - keepOriginalDelimiters: true
  - appendExtSuffix: false

ç»“æœ: clean-xml-files.js  (ç¬¬ä¸€æ¬¡ï¼ŒæœªçŸ¥è¯)
AIè¡¥ç¼º: {"clean":"æ¸…ç†", "xml":"XML", "files":"æ–‡ä»¶"}
ç»“æœ: æ¸…ç†-XML-æ–‡ä»¶.js  âœ… (ä¿ç•™è¿å­—ç¬¦å’Œæ‰©å±•å)
```

### ç¤ºä¾‹2ï¼šè‡ªå®šä¹‰è¿æ¥ç¬¦
```
è¾“å…¥: analyze_element_hierarchy.cjs
é…ç½®:
  - style: "literal"
  - keepOriginalDelimiters: false
  - literalJoiner: "_"
  - appendExtSuffix: false

ç»“æœ: åˆ†æ_å…ƒç´ _å±‚çº§.cjs  âœ… (ç»Ÿä¸€ä½¿ç”¨ä¸‹åˆ’çº¿)
```

### ç¤ºä¾‹3ï¼šæ·»åŠ ä¸­æ–‡åç¼€
```
è¾“å…¥: user-profile.ts
é…ç½®:
  - style: "literal"
  - keepOriginalDelimiters: true
  - appendExtSuffix: true

ç»“æœ: ç”¨æˆ·-èµ„æ–™æ¨¡å—  âœ… (æ·»åŠ "æ¨¡å—"åç¼€ï¼Œå»æ‰.ts)
```

---

## ğŸ“ é…ç½®è¯´æ˜

### å®Œæ•´é…ç½®ç¤ºä¾‹ï¼š
```json
{
  // ç¿»è¯‘é£æ ¼ï¼ˆé»˜è®¤ï¼šç›´è¯‘ï¼‰
  "aiExplorer.alias.style": "literal",
  
  // ä¿ç•™åŸå§‹åˆ†éš”ç¬¦ï¼ˆé»˜è®¤ï¼štrueï¼‰
  "aiExplorer.alias.keepOriginalDelimiters": true,
  
  // æ·»åŠ ä¸­æ–‡åç¼€ï¼ˆé»˜è®¤ï¼šfalseï¼Œä¿ç•™åŸæ‰©å±•åï¼‰
  "aiExplorer.alias.appendExtSuffix": false,
  
  // è‡ªå®šä¹‰è¿æ¥ç¬¦ï¼ˆä»…åœ¨ keepOriginalDelimiters=false æ—¶ç”Ÿæ•ˆï¼‰
  "aiExplorer.alias.literalJoiner": "_"
}
```

### ä¸‰ç§ä½¿ç”¨åœºæ™¯ï¼š

#### åœºæ™¯1ï¼šæ­»æ¿åˆå¿«ï¼ˆæ¨èï¼‰â­â­â­
```json
{
  "aiExplorer.alias.style": "literal",
  "aiExplorer.alias.keepOriginalDelimiters": true,
  "aiExplorer.alias.appendExtSuffix": false
}
```
- ç»“æœï¼š`clean-xml-files.js â†’ æ¸…ç†-XML-æ–‡ä»¶.js`

#### åœºæ™¯2ï¼šç»Ÿä¸€ä¸‹åˆ’çº¿
```json
{
  "aiExplorer.alias.style": "literal",
  "aiExplorer.alias.keepOriginalDelimiters": false,
  "aiExplorer.alias.literalJoiner": "_",
  "aiExplorer.alias.appendExtSuffix": false
}
```
- ç»“æœï¼š`clean-xml-files.js â†’ æ¸…ç†_XML_æ–‡ä»¶.js`

#### åœºæ™¯3ï¼šä¸­æ–‡åç¼€ï¼ˆç®€æ´ï¼‰
```json
{
  "aiExplorer.alias.style": "literal",
  "aiExplorer.alias.keepOriginalDelimiters": true,
  "aiExplorer.alias.appendExtSuffix": true
}
```
- ç»“æœï¼š`clean-xml-files.js â†’ æ¸…ç†-XML-æ–‡ä»¶è„šæœ¬`

---

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### åˆ†éš”ç¬¦ä¿ç•™æœºåˆ¶ï¼š

1. **åˆ†è¯é˜¶æ®µ**ï¼ˆ`SplitWithDelimiters.ts`ï¼‰ï¼š
   ```typescript
   splitWithDelimiters("clean-xml-files.js")
   â†’ {
       tokens: ["clean", "xml", "files"],
       delims: ["-", "-", ""],
       ext: "js"
     }
   ```

2. **ç¿»è¯‘é˜¶æ®µ**ï¼ˆ`LiteralAliasBuilderV2.ts`ï¼‰ï¼š
   ```typescript
   mapped = ["æ¸…ç†", "XML", "æ–‡ä»¶"]
   mappedDelims = ["-", "-", ""]  // ä¿ç•™åŸå§‹åˆ†éš”ç¬¦
   ```

3. **é‡å»ºé˜¶æ®µ**ï¼ˆ`rebuildWithDelimiters`ï¼‰ï¼š
   ```typescript
   result = ""
   for (i = 0; i < mapped.length; i++) {
       result += mapped[i] + delims[i]
   }
   result += "." + ext
   â†’ "æ¸…ç†-XML-æ–‡ä»¶.js"
   ```

### é…ç½®ä¼˜å…ˆçº§ï¼š
1. `keepOriginalDelimiters=true` â†’ ä¿ç•™åŸå§‹åˆ†éš”ç¬¦
2. `keepOriginalDelimiters=false` â†’ ä½¿ç”¨ `literalJoiner`
3. `appendExtSuffix=true` â†’ æ·»åŠ ä¸­æ–‡åç¼€ï¼Œå»æ‰åŸæ‰©å±•å
4. `appendExtSuffix=false` â†’ ä¿ç•™åŸæ‰©å±•å

---

## ğŸ‰ æ”¹è¿›æ€»ç»“

### âœ… å®Œæˆé¡¹ï¼š
1. âœ… é»˜è®¤é…ç½®æ”¹ä¸º `style: "literal"`ï¼ˆç›´è¯‘é£æ ¼ï¼‰
2. âœ… æ–°å¢ `keepOriginalDelimiters` é…ç½®é¡¹
3. âœ… é»˜è®¤ä¿ç•™åŸæ‰©å±•åï¼ˆ`appendExtSuffix: false`ï¼‰
4. âœ… æ”¯æŒä¸‰ç§ç¿»è¯‘æ¨¡å¼ï¼ˆä¿ç•™åˆ†éš”ç¬¦/ç»Ÿä¸€è¿æ¥ç¬¦/ä¸­æ–‡åç¼€ï¼‰
5. âœ… æ‰©å±•ååç¼€æ˜ å°„ï¼ˆjsâ†’è„šæœ¬ã€tsâ†’æ¨¡å—ã€tsxâ†’ç»„ä»¶ç­‰ï¼‰

### ğŸš§ å¾…æµ‹è¯•ï¼š
- [ ] é‡æ–°åŠ è½½ VS Code
- [ ] åˆ é™¤æ—§çš„å­¦ä¹ è¯å…¸ï¼ˆ`.ai/.ai-glossary.literal.learned.json`ï¼‰
- [ ] æµ‹è¯•ç¿»è¯‘ç»“æœæ˜¯å¦ä¿ç•™åˆ†éš”ç¬¦
- [ ] æµ‹è¯•æ˜¯å¦ä¿ç•™åŸæ‰©å±•å

### ğŸ“ ç”¨æˆ·æ“ä½œï¼š
1. **é‡æ–°åŠ è½½ VS Code**ï¼š`Ctrl+Shift+P` â†’ `Developer: Reload Window`
2. **åˆ é™¤æ—§è®°å½•**ï¼šåˆ é™¤ `.ai/.ai-glossary.literal.learned.json`
3. **æµ‹è¯•ç¿»è¯‘**ï¼šå³é”®æ–‡ä»¶ â†’ `AI èµ„æºç®¡ç†å™¨ï¼šç¿»è¯‘æ­¤æ–‡ä»¶`
4. **é¢„æœŸç»“æœ**ï¼š`clean-xml-files.js â†’ æ¸…ç†-XML-æ–‡ä»¶.js` âœ…
